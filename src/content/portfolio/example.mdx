---
title: "NOWZ-RP 실시간 채팅 시스템"
description: "카카오톡과 같은 실시간 채팅 시스템을 구축하여 성능을 97% 향상시키고 크로스탭 동기화를 구현했다."
date: "2025-08-01"
tags: ["Next.js", "React", "Socket.io", "TypeScript", "Performance"]
category: "portfolio"
featured: true
technologies:
  ["Next.js 15", "React 19", "TypeScript", "Socket.io", "Zustand", "Tailwind"]
---

## 프로젝트 개요

나우즈 케어(원격)팀의 학생 관리 프로그램에서 **카카오톡과 같은 실시간 채팅 시스템**을 구축했다. Socket.io를 활용한 실시간 통신과 BroadcastChannel API를 통한 크로스탭 동기화를 구현하여 **성능을 97% 향상**시켰다.

## 주요 성과

### 성능 최적화

- **INP 개선**: 3217ms → 87ms (97% 향상)
- **메모이제이션**: React.memo 적용으로 불필요한 리렌더링 방지
- **무한 스크롤**: 양방향 무한 스크롤로 대량 채팅 효율적 처리

### 사용자 경험 개선

- **실시간 메시징**: Socket.io를 통한 즉시 메시지 전송
- **크로스탭 동기화**: BroadcastChannel API로 다중 브라우저 동기화
- **풍부한 기능**: 검색, 삭제, 답장, 파일 전송 지원

### 확장성 확보

- **재사용성**: ChattingRoom 컴포넌트를 학생/학부모 채팅방에 공통 적용
- **모듈화**: 채팅 기능의 독립적 모듈 설계
- **타입 안정성**: TypeScript로 타입 안전성 확보

## 핵심 기능

### 실시간 메시징

Socket.io를 활용한 실시간 양방향 통신으로 메시지 즉시 전송 및 수신을 구현했다.

### 양방향 무한 스크롤

IntersectionObserver API를 활용하여 위아래 방향으로 무한 스크롤을 구현하여 대량의 채팅 데이터를 효율적으로 처리한다.

### 크로스탭 동기화

BroadcastChannel API를 통해 여러 브라우저 탭 간 실시간 데이터 동기화를 구현했다.

### 채팅 기능

- **메시지 전송/수신**: 텍스트 및 파일 메시지 지원
- **메시지 검색**: 키워드 기반 채팅 내역 검색
- **메시지 삭제**: 개별 메시지 삭제 기능
- **답장 기능**: 특정 메시지에 대한 답장
- **읽음 상태**: 메시지 읽음/안읽음 표시

## 기술적 도전과 해결

### 1. 성능 최적화 문제

**문제**: 실시간으로 채팅이 많이 쌓이거나 이미지 채팅이 많아지는 경우 채팅 기능의 성능 저하가 발생했다.

**해결**:

- React.memo를 활용한 컴포넌트 메모이제이션 적용
- INP(Interaction to Next Paint) 3217ms에서 87ms로 97% 개선
- 불필요한 리렌더링 방지로 메모리 사용량 최적화

### 2. 크로스탭 동기화 문제

**문제**: 사용자가 학부모와 학생 채팅을 모두 입장 가능한데, 학부모 채팅은 새로운 브라우저로 보여진다. 기존 브라우저의 채팅방 목록에는 학부모 채팅방의 최신 메시지, 읽음 상태 등이 보여지고 있는데, 학부모 채팅방에서 발생하는 socket 이벤트가 기존 브라우저의 채팅방 목록 socket에 동기화되지 않는 문제가 발생했다.

**해결**:

- BroadcastChannel API를 적용하여 탭 간 실시간 데이터 동기화 구현
- 메시지 상태, 읽음 표시, 채팅방 목록 업데이트를 모든 탭에서 동기화
- 사용자가 여러 채팅방을 동시에 사용할 때도 일관된 UX 제공

### 3. 대량 데이터 처리

**문제**: 채팅 기록이 많아질수록 초기 로딩 시간과 스크롤 성능이 저하되었다.

**해결**:

- IntersectionObserver API를 활용한 양방향 무한 스크롤 구현
- 초기 렌더링 시 정해진 양의 채팅만 로드
- 스크롤에 따른 지연 로딩으로 메모리 사용량 최적화

## 결과 및 성과

### 정량적 성과

- **성능 향상**: 97% 개선 (INP 3217ms → 87ms)
- **개발 기간**: 4개월 (2024.08 ~ 2024.12)
- **재사용성**: 학생/학부모 채팅방 공통 적용으로 개발 시간 50% 단축

### 정성적 성과

- **사용자 만족도**: 실시간 채팅으로 소통 효율성 대폭 향상
- **시스템 안정성**: 크로스탭 동기화로 데이터 일관성 확보
- **유지보수성**: 모듈화된 구조로 기능 확장 용이

## 학습한 점

### 기술적 성장

- **실시간 통신**: Socket.io를 통한 WebSocket 통신 구현
- **성능 최적화**: React.memo와 메모이제이션 기법 습득
- **브라우저 API**: BroadcastChannel, IntersectionObserver API 활용

### 아키텍처 설계

- **컴포넌트 재사용**: 공통 컴포넌트 설계로 개발 효율성 증대
- **상태 관리**: Zustand를 활용한 효율적인 상태 관리 패턴
- **타입 설계**: TypeScript를 활용한 안전한 타입 시스템 구축

## 향후 계획

### 단기 목표

- **이모지 반응**: 메시지에 대한 이모지 반응 기능 추가
- **메시지 편집**: 전송된 메시지 수정 기능 구현
- **알림 시스템**: 브라우저 알림 및 푸시 알림 연동

### 장기 목표

- **음성/영상 통화**: WebRTC를 활용한 통화 기능 추가
- **AI 기능**: 메시지 자동 번역 및 요약 기능
- **분석 대시보드**: 채팅 사용 패턴 분석 도구

## 결론

NOWZ-RP 실시간 채팅 시스템 개발을 통해 **대규모 실시간 통신 시스템**의 설계와 **성능 최적화**에 대한 깊은 이해를 얻었다. 특히 **크로스탭 동기화** 문제 해결을 통해 복잡한 브라우저 환경에서의 상태 관리 기법을 습득했다.

97%의 성능 향상을 달성하며 **사용자 중심의 최적화**가 얼마나 중요한지 깨달았고, 앞으로도 **효율적이고 안정적인 실시간 시스템** 구축에 집중하고자 한다.
